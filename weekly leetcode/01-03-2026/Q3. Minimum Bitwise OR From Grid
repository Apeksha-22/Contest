class Solution {
public:
    int minimumOR(vector<vector<int>>& grid) {
        auto tem = grid;
        int n = tem.size();
        int mx = 0;
        for (auto& r : tem)
            for (int x : r)
                if (x > mx)
                    mx = x;
        int B = 0;
        while ((1 << B) <= mx)
            ++B;
        if (B == 0)
            B = 1;
        int ma = (1 << B) - 1;
        for (int i = B - 1; i >= 0; --i) {
            int c = ma & ~(1 << i);
            bool ok = true;
            for (int j = 0; j < n && ok; ++j) {
                bool rk = false;
                for (int x : tem[j]) {
                    if ((x & ~c) == 0) {
                        rk = true;
                        break;
                    }
                }
                if (!rk)
                    ok = false;
            }
            if (ok)
                ma = c;
        }
        return ma;
    }
};Â©leetcode

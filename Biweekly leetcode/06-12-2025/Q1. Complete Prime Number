class Solution {
public:
    bool completePrime(int num) {
        if (!isPrime(num))
            return false;
        string s = to_string(num);
        int n = s.size();
        for (int k = 1; k <= n; ++k) {
            int pre = 0;
            for (int i = 0; i < k; ++i)
                pre = pre * 10 + (s[i] - '0');
            if (!isPrime(pre))
                return false;
            int suf = 0;
            for (int i = n - k; i < n; ++i)
                suf = suf * 10 + (s[i] - '0');
            if (!isPrime(suf))
                return false;
        }
        return true;
    }

private:
    bool isPrime(long long x) {
        if (x <= 1)
            return false;
        if (x <= 3)
            return true;
        if (x % 2 == 0)
            return false;
        for (long long i = 3; i * i <= x; i += 2)
            if (x % i == 0)
                return false;
        return true;
    }
};
Â©leetcode
